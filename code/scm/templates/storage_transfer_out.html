{include file="header.html"}
<table cellspacing="0" cellpadding="0" cols="0" width="100%">
	<tr>
		<td class="subtitle"><span class="factory_title">{$fty}</span> Storage : Transfer OUT</td>
	</tr>
	<tr>
		<td class="space"></td>
	</tr>
    <tr>
        <td class="ord_number">
            <table  border="0" cellspacing="0" cellpadding="0" cols="1">
                <tr>
                    <td><img height="90" src="picture/{$ord_num}.jpg"></td>
                    <td>
                        <table  border="0" cellspacing="0" cellpadding="0" cols="1">
                            <tr>
                                <td class="ord_number" align="right">Order :</td>
                                <td class="ord_number">{$ord_num}</td>
                            </tr>
                            <tr>
                                <td class="ord_number" align="right">Line :</td>
                                <td class="ord_number">{$line} TO {$line_to}</td>
                            </tr>
                            <tr>
                                <td class="ord_number" align="right">Zone :</td>
                                <td class="ord_number">{$zone} TO {$zone_to}</td>
                            </tr>
                        </table>
                    </td>
                </tr>
            </table>
        </td>
    </tr>
	<tr>
		<td class="space"></td>
	</tr>
</table>

<form method="POST">
<table cellpadding="0" cellspacing="0" cols="0">
	{section name=PTL loop=$partial}
	<tr id="G_partial_tr_{$smarty.section.PTL.index}" span_id="G_partial_span_{$smarty.section.PTL.index}">
		<td id="Bom_TR_Title">({$partial[PTL].mks}){$partial[PTL].remark} ETD:{$partial[PTL].p_etd}</td>
		{section name=SDS loop=$size_des}
		<td id="Bom_TR_Size">{$size_des[SDS]}</td>
		{/section}
		<td id="Bom_TR_Size">Total</td>
		<input type="hidden" name="PHP_p_id[{$partial[PTL].mks}]" value="{$partial[PTL].id}">
	</tr>
	<span id="G_partial_span_{$smarty.section.PTL.index}">
	{section name=WQTY loop=$partial[PTL].wiqty}
	<tr id="G_partial_span_{$smarty.section.PTL.index}">
		<td id="Bom_TR_Item" rowspan="2">{$partial[PTL].wiqty[WQTY].colorway}</td>
		{section name=TS loop=$partial[PTL].wiqty[WQTY].qtys}
		<td id="Bom_TR_Value" bgcolor="#EEEEEE">
			&nbsp;<input type="text" id="G_qty_{$partial[PTL].mks}_{$smarty.section.WQTY.index}_{$smarty.section.TS.index}" style="background-color:#EEEEEE;border-color:#EEEEEE;border-width:0px;" class="storage_end_line_input" value="{$partial[PTL].wiqty[WQTY].qtys[TS]}" readonly="readonly">&nbsp;
			<input type="hidden" id="G_o_qty_{$partial[PTL].mks}_{$smarty.section.WQTY.index}_{$smarty.section.TS.index}" class="storage_end_line_input" value="{$partial[PTL].wiqty[WQTY].qtys[TS]}">
		</td>
		{/section}
		<td id="Bom_TR_Total" bgcolor="EEEEEE"><b><span id="G_color_ttl_{$partial[PTL].mks}_{$smarty.section.WQTY.index}">{$partial[PTL].wiqty[WQTY].ttl_color_qty}</span></b></td>
	</tr>
    <tr id="G_partial_span_{$smarty.section.PTL.index}">
        {section name=SDS loop=$size_des}
        <td id="Bom_TR_Value">
            &nbsp;<input type="text" id="T_qty_{$partial[PTL].mks}_{$smarty.section.WQTY.index}_{$smarty.section.SDS.index}" name="PHP_qty[{$partial[PTL].mks}][{$smarty.section.WQTY.index}][{$smarty.section.SDS.index}]" class="storage_end_line_input" onkeyup="cal_storage_color_qty('{$partial[PTL].mks}', '{$smarty.section.WQTY.index}', '{$smarty.section.SDS.index}')">&nbsp;
            <input type="hidden" name="PHP_color[{$partial[PTL].mks}][{$smarty.section.WQTY.index}][{$smarty.section.SDS.index}]" value="{$partial[PTL].wiqty[WQTY].colorway}">
            <input type="hidden" name="PHP_size[{$partial[PTL].mks}][{$smarty.section.WQTY.index}][{$smarty.section.SDS.index}]" value="{$size_des[SDS]}">
        </td>
        {/section}
        <td id="Bom_TR_Total" bgcolor="EEEEEE"><span id="T_color_ttl_{$partial[PTL].mks}_{$smarty.section.WQTY.index}"><b> 0 </b></span></td>
    </tr>   
	{/section}
	</span>
	{/section}
    <tr>
        <td colspan="{$qty_count+2}" align="center">
            <input class="submit_ajax" type="submit" style="width:99%" name="Submit" value="Append">
		</td>
    </tr>
</table>
<input type="hidden" name="PHP_ord_num" value="{$ord_num}">
<input type="hidden" name="PHP_factory" value="{$fty}">
<input type="hidden" name="PHP_factory_to" value="{$fty_to}">
<input type="hidden" name="PHP_line" value="{$line}">
<input type="hidden" name="PHP_line_to" value="{$line_to}">
<input type="hidden" name="PHP_zone" value="{$zone}">
<input type="hidden" name="PHP_zone_to" value="{$zone_to}">
<input type="hidden" name="PHP_in_out" value="{$in_out}">
<input type="hidden" name="PHP_action" value="do_append_transfer_qty">
</form>
<br>
<table border="0" cellpadding="0" cellspacing="0" cols="0">
	<tr class="storage_log_tr">
		<td class="storage_log_td" colspan="10" align="center">
			<b>轉出 History records ( {$today} )</b>
		</td>
	</tr>
	<tr class="storage_log_tr">
		<td class="storage_log_td">ID</td>
		<td class="storage_log_td">Order #</td>
		<td class="storage_log_td">Partial</td>
		<td class="storage_log_td">From</td>
		<td class="storage_log_td">To</td>
		<td class="storage_log_td">Input Date</td>
		<td class="storage_log_td">Color</td>
		<td class="storage_log_td">Size</td>
		<td class="storage_log_td">Qty</td>
		<td class="storage_log_td">&nbsp;</td>
	</tr>
	{if $storage_det.storage_det_out[0].qty}
	{section name=LOG loop=$storage_det.storage_det_out}
	<tr id="List_TR_{$storage_det[LOG].id}">
		<td class="storage_log_text" align="center">{$storage_det.storage_det_out[LOG].sid}</td>
		<td class="storage_log_text" align="center">{$storage_det.storage_det_out[LOG].ord_num}</td>
		<td class="storage_log_text" align="center">{$storage_det.storage_det_out[LOG].partial}</td>
		<td class="storage_log_text">{$storage_det.storage_det_out[LOG].zone_from}</td>
		<td class="storage_log_text">{$storage_det.storage_det_out[LOG].zone_to}</td>
		<td class="storage_log_text">{$storage_det.storage_det_out[LOG].input_date}</td>
		<td class="storage_log_text">{$storage_det.storage_det_out[LOG].color}</td>
		<td class="storage_log_text" align="center">{$storage_det.storage_det_out[LOG].size}</td>
		<td class="storage_log_text" align="center">{$storage_det.storage_det_out[LOG].qty}</td>
		<td class="storage_log_text" align="center">
			{if $storage_det.storage_det_out[LOG].status == 0}
			<img src="./images/del.gif" style="cursor:pointer" onclick="del_transfer_qty('{$storage_det.storage_det_out[LOG].id}','{$fty}','{$fty_to}','{$line}','{$line_to}','{$zone}','{$zone_to}','{$ord_num}','out')"></img>
			{/if}
		</td>
	</tr>
	{/section}
	{else}
	<tr>
		<td class="storage_log_text" colspan="9" align="center">NO records!</td>
	</tr>
	{/if}
</table>
{include file="footer.html"}